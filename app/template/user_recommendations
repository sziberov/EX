<?
	try {
		$user = new Object_(object_getUserID($path[1]));
	} catch(Exception $e) {
		$error = D['error_page_not_found'];
		http_response_code(404);
		return include 'error';
	}

	$avatar = $user->avatar;
	$user_url = !empty($user->alias) ? '/'.$user->alias : '/user/'.$user->login;
?>
<title><?= dictionary_getPageTitle(D['title_user_recommendations'].' '.$user->title); ?></title>
<div _grid="h spaced">
	<div _grid="h">
		<? if(!empty($avatar)) { ?>
			<a _avatar href="<?= $user_url; ?>" title="<?= $user->title.': '.$avatar->title; ?>">
				<img src="/get/<?= $avatar->poster->id; ?>">
			</a>
		<? } ?>
		<div _title><?= D['title_user_recommendations']; ?> <b><?= $user->title; ?></b></div>
	</div>
	<a _button href="<?= $user_url; ?>"><?= D['button_user_page']; ?></a>
</div>
<?
	$template = new Template('entities');
	$template->navigation_mode_id = 2;
	$template->navigation_page = $navigation_page;
	$template->navigation_items_per_page = $navigation_items_per_page;
	$template->search_entity = 'links';
	$template->search_class = 'Link';
	$template->search_condition = "WHERE l.user_id = $user->id AND l.type_id = 6
								   ORDER BY l.creation_time DESC, l.id DESC";
	$template->template_title = 'user_recommendations.objects';
	$template->render(true);
?>
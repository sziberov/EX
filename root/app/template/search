<module variables="query={{decodeURI ; &hash.parameters.query}};user={{if ; [hash.parameters.user_id]!= ; @/app/api/user.php?id=[hash.parameters.user_id]}};section={{if ; [hash.parameters.section_id]!= ; @/app/api/object.php?id=[hash.parameters.section_id]}}">
	<condition>
		<if>[query]!=</if>
		<then>
			<title>[title_search] "[query]"</title>
		</then>
		<else>
			<title>[title_search]</title>
		</else>
	</condition>
	<div _title>[title_search]</div>
	<div _grid="h">
		<input size_="large" name="search" type="text" value="[query]">
		<button primary_ onclick="Hash.set('search?query='+document.querySelector('[name=&quot;search&quot;]')?.value+'&user_id=[user.id]&section_id=[section.id]')">[button_search]</button>
	</div>
	<condition>
		<if>[user.login]!=</if>
		<elseif>[section.title]!=</elseif>
		<elseif>[search_results_count]==0</elseif>
		<then>
			<div _properties>
				<condition>
					<if>[user.login]!=</if>
					<then>
						<div>
							<div>[string_user]</div>
							<a href="#user/[user.login]">[user.login]</a>
						</div>
					</then>
				</condition>
				<condition>
					<if>[section.title]!=</if>
					<then>
						<div>
							<div>[string_section]</div>
							<a href="#view/[section.id]">[section.title]</a>
						</div>
					</then>
				</condition>
				<condition>
					<if>[search_results_count]==0</if>
					<then>
						<div>[string_nothing_found]</div>
					</then>
				</condition>
			</div>
		</then>
	</condition>
	<module title="objects" variables="filters=query\=[query]&type\=search;mode=list"></module>
	<condition>
		<if>[user.login]!=</if>
		<elseif>[section.id]!=</elseif>
		<then>
			<div _grid="h">
				<button onclick="Hash.set('search?query=[query]')">[button_search_everywhere]</button>
			</div>
		</then>
	</condition>
</module>